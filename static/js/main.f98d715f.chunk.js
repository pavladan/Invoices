(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,a){e.exports=a(64)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),c=a.n(l),o=a(12),i=a(14),u=a(38),s=a(39),m=a(35),d=a(26),p=a(9),v=a(15),E=(a(54),a(16)),f=a(17),b=a(20),h=a(18),D=a(21),g=a(11),O=(a(55),a(65)),y=a(41),j=a(68),C=(a(56),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onDeleteClick=function(e){a.props.onDelete(e.target.dataset.id)},a.onOpenClick=function(e){document.querySelectorAll(".open").forEach(function(t){return t!==e.currentTarget&&t.classList.remove("open")}),e.currentTarget.classList.toggle("open")},a}return Object(D.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props.state.invoices;return this.tableLine=t.db&&t.db.map(function(t){return r.a.createElement(O.a,{key:t.id,className:"table-line",onClick:e.onOpenClick},r.a.createElement(y.a,null,t.date_created),r.a.createElement(y.a,null,t.number),r.a.createElement(y.a,null,t.date_supply),r.a.createElement(y.a,{className:"comment"},t.comment),r.a.createElement("div",{className:"delete",onClick:e.onDeleteClick,"data-id":t.id}))}),this.table=r.a.createElement("div",{className:"table"},r.a.createElement(O.a,{className:"table-head"},r.a.createElement(y.a,null,"Create"),r.a.createElement(y.a,null,"No"),r.a.createElement(y.a,null,"Supply"),r.a.createElement(y.a,null,"Comment")),this.tableLine),null!==t.errors?r.a.createElement("p",null,"Error load database"):r.a.createElement("div",{className:"Invoices"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Invoices"),r.a.createElement("div",{className:"title__line"})),r.a.createElement("div",{className:"Invoices__actions"},r.a.createElement("h6",null,"Actions"),r.a.createElement(v.b,{to:"/add"},r.a.createElement(j.a,null,"Add new"))),r.a.createElement("div",{className:"Invoices__main"},r.a.createElement("h6",null,"Invoices"),t.loading?r.a.createElement("p",null,"Loading..."):this.table))}}]),t}(n.Component)),_=Object(o.c)(function(e){return{state:e}},function(e){return{onDelete:function(t){e({type:"DELETE_INVOICE",payload:t})}}})(C),N=a(44),I=a(67),w=(a(62),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(b.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).randomString=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"char";"char"===a?e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz":"number"===a&&(e="0123456789");for(var n="",r=0;r<t;r++){var l=Math.floor(Math.random()*e.length);n+=e.substring(l,l+1)}return n},a.addZero=function(e,t){return String(e).length<t?a.addZero("0"+e,t):e},a.formatDate=function(e){if(!e)return"";var t=new Date(e);return a.addZero(t.getDate(),2)+"."+a.addZero(t.getMonth()+1,2)+"."+a.addZero(t.getFullYear(),4)},a.getDate=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return a.addZero(t,4)+"-"+a.addZero(n,2)+"-"+a.addZero(r,2)},a.onClickSave=function(){a.props.onSaves({id:function(){for(var e=function(){var e=a.randomString();if(a.props.state.invoices.db&&0===a.props.state.invoices.db.filter(function(t){return t.id===e}).length)return{v:e}};;){var t=e();if("object"===typeof t)return t.v}}(),number:a.inputNum.value,date_created:a.formatDate(a.inputSupplyDate.value),date_supply:a.formatDate(a.inputInvoiceDate.value),comment:a.inputComment.value}),a.inputNum.value="",a.inputSupplyDate.value="",a.inputInvoiceDate.value="",a.inputComment.value=""},a}return Object(D.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"CreateInvoice"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Create Invoice"),r.a.createElement("div",{className:"title__line"})),r.a.createElement(I.a,null,r.a.createElement(v.b,{to:"/",className:"exit"}),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,"Number"),r.a.createElement(I.a.Control,{type:"number",defaultValue:this.randomString(6,"number"),ref:function(t){return e.inputNum=t},placeholder:"Enter Number",min:"00000",max:"99999"}),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(I.a.Label,null,"Supply Date"),r.a.createElement(I.a.Control,{type:"date",defaultValue:this.getDate(),ref:function(t){return e.inputSupplyDate=t},placeholder:"Select Date"})),r.a.createElement(y.a,null,r.a.createElement(I.a.Label,null,"Invoice Date"),r.a.createElement(I.a.Control,{type:"date",defaultValue:this.getDate(),ref:function(t){return e.inputInvoiceDate=t},placeholder:"Select Date"}))),r.a.createElement(I.a.Label,null,"Comment"),r.a.createElement(I.a.Control,{as:"textarea",rows:"3",ref:function(t){return e.inputComment=t}})),r.a.createElement(v.b,{to:"/"},r.a.createElement(j.a,{className:"col-3 offset-9",onClick:this.onClickSave},"Save"))))}}]),t}(n.Component)),S=Object(o.c)(function(e){return{state:e}},function(e){return{onSaves:function(t){e({type:"ADD_INVOICE",payload:Object(N.a)({},t)})}}})(w),L=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))},k=a(66),A=(a(63),"LOAD_DB_OK"),B="LOAD_DB_FAIL",T="/db.json";var Z=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e){e({type:"LOAD_DB_REQUESTED"}),fetch(T).then(function(e){return e.json()}).then(function(t){e({type:A,db:t.invoices})}).catch(function(t){e({type:B,errors:t})})})}},{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:_}),r.a.createElement(g.a,{path:"/add",component:S}),r.a.createElement(g.a,{component:L})))}}]),t}(n.Component),V=Object(o.c)(function(e){return{state:e}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(30),x={loading:!1,db:null,errors:null};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DB_REQUESTED":return{loading:!0};case"LOAD_DB_OK":return{loading:!1,db:t.db,errors:null};case"LOAD_DB_FAIL":return{loading:!1,db:null,errors:t.errors};case"ADD_INVOICE":return{loading:e.loading,errors:e.errors,db:[].concat(Object(M.a)(e.db),[t.payload])};case"DELETE_INVOICE":return{loading:e.loading,errors:e.errors,db:Object(M.a)(e.db.filter(function(e){return e.id!==t.payload}))};default:return e}}var R,W=Object(p.a)(),J=Object(i.createStore)((R=W,Object(i.combineReducers)({router:Object(d.b)(R),invoices:F})),Object(u.composeWithDevTools)(Object(i.applyMiddleware)(Object(m.a)(W),s.a)));c.a.render(r.a.createElement(o.a,{store:J},r.a.createElement(d.a,{history:W},r.a.createElement(v.a,null,r.a.createElement(V,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.f98d715f.chunk.js.map